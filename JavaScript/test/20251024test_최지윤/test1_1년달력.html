<!DOCTYPE html>
<!-- /webapp/test3/test1.html -->
<html>
  <head>
    <meta charset="UTF-8" />
    <title>달력 출력하기</title>
    <style type="text/css">
      .mon {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
      }
      th.mon,
      td.mon {
        border: 3px solid #bcbcbc;
        text-align: center;
        padding: 8px;
      }
      th.mon {
        background-color: #e2e2e2;
        color: #111111;
      }
      td.mon {
        background-color: #f2f2f2;
      }
      caption {
        color: #111111;
        font-size: 20px;
        background-color: #ffffff;
      }
      .text-red {
        color: red;
      }
      .text-blue {
        color: blue;
      }
    </style>
  </head>
  <body>
    <select id="y">
      <option>2020</option>
      <option>2021</option>
      <option>2022</option>
      <option>2023</option>
      <option>2024</option>
      <option selected="selected">2025</option>
      <option>2026</option>
    </select>
    <input type="button" value="달력보기" onclick="show_cal()" />
    <br />
    <span id="cal"></span>

    <script>
      function show_cal() {
        const y = document.getElementById("y").value;
        const week = ["일", "월", "화", "수", "목", "금", "토"];
        let cal = `<div style="text-align:center; font-size:22px; margin:10px 0;">${y}년</div>`;

        cal += `<table style="width:100%; border-collapse:collapse; text-align:center;">`;

        for (let row = 0; row < 3; row++) { 
          cal += `<tr>`;
          for (let col = 0; col < 4; col++) { 
            const m = row * 4 + col + 1;
            if (m > 12) {
              cal += `<td>&nbsp;</td>`;
              continue;
            }

            let firstDay = new Date(y, m - 1, 1).getDay();
            let lastDate = new Date(y, m, 0).getDate();

            cal += `<td style="vertical-align:top; padding:10px;">
                      <table class="mon">
                        <caption>${m}월</caption>
                        <tr>`;

            for (let i = 0; i < week.length; i++) {
              cal += `<th class="mon">${week[i]}</th>`;
            }

            cal += "</tr><tr>";

            for (let i = 0; i < firstDay; i++) {
              cal += `<td class="mon">&nbsp;</td>`;
            }

            for (let d = 1; d <= lastDate; d++) {
              const dayOfWeek = (firstDay + d - 1) % 7;
              let cls = "mon";
              if (dayOfWeek === 0) cls += " text-red";
              else if (dayOfWeek === 6) cls += " text-blue";

              cal += `<td class="${cls}">${d}</td>`;

              if (dayOfWeek === 6 && d !== lastDate) {
                cal += "</tr><tr>";
              }
            }

            const remain = (firstDay + lastDate) % 7;
            if (remain !== 0) {
              for (let i = remain; i < 7; i++) {
                cal += `<td class="mon">&nbsp;</td>`;
              }
            }

            cal += "</tr></table></td>";
          }
          cal += "</tr>"; 
        }

        cal += "</table>"; 

        document.getElementById("cal").innerHTML = cal;
      }
    </script>
  </body>
</html>